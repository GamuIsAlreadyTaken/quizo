import{s as O,n as T,c as ne,u as se,g as le,a as ie,x as y,y as ce,r as de,o as _e,e as M,z as G}from"../chunks/scheduler.DHTTB31Y.js";import{S as D,i as Q,e as b,c as q,d as k,g as m,o as $,y as S,j as v,u as V,s as N,v as C,h as B,k as z,w as P,z as U,t as w,a as E,x as j,b as A,f as J,l as L,q as ue,n as oe,A as re,B as he,p as H,C as K}from"../chunks/index.8iMzuK7F.js";import{w as ae}from"../chunks/index.BDqcD_k8.js";function R(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function me(n){let e;return{c(){e=b("div"),this.h()},l(s){e=q(s,"DIV",{class:!0}),k(e).forEach(m),this.h()},h(){$(e,"class","svelte-1eo8awq"),S(e,"opened",n[0])},m(s,t){v(s,e,t)},p(s,[t]){t&1&&S(e,"opened",s[0])},i:T,o:T,d(s){s&&m(e)}}}function pe(n,e,s){let{opened:t}=e;return n.$$set=l=>{"opened"in l&&s(0,t=l.opened)},[t]}class ge extends D{constructor(e){super(),Q(this,e,pe,me,O,{opened:0})}}function $e(n){let e,s,t,l,o,u,r;t=new ge({props:{opened:n[0]}});const i=n[3].default,a=ne(i,n,n[2],null);return{c(){e=b("div"),s=b("button"),V(t.$$.fragment),l=N(),a&&a.c(),this.h()},l(f){e=q(f,"DIV",{class:!0});var d=k(e);s=q(d,"BUTTON",{class:!0});var h=k(s);C(t.$$.fragment,h),h.forEach(m),l=B(d),a&&a.l(d),d.forEach(m),this.h()},h(){$(s,"class","svelte-bwh1uj"),$(e,"class","svelte-bwh1uj"),S(e,"opened",n[0])},m(f,d){v(f,e,d),z(e,s),P(t,s,null),z(e,l),a&&a.m(e,null),o=!0,u||(r=U(s,"click",n[1]),u=!0)},p(f,[d]){const h={};d&1&&(h.opened=f[0]),t.$set(h),a&&a.p&&(!o||d&4)&&se(a,i,f,f[2],o?ie(i,f[2],d,null):le(f[2]),null),(!o||d&1)&&S(e,"opened",f[0])},i(f){o||(w(t.$$.fragment,f),w(a,f),o=!0)},o(f){E(t.$$.fragment,f),E(a,f),o=!1},d(f){f&&m(e),j(t),a&&a.d(f),u=!1,r()}}}function be(n,e,s){let{$$slots:t={},$$scope:l}=e,{opened:o=!0}=e;const u=()=>s(0,o=!o);return n.$$set=r=>{"opened"in r&&s(0,o=r.opened),"$$scope"in r&&s(2,l=r.$$scope)},[o,u,l,t]}class qe extends D{constructor(e){super(),Q(this,e,be,$e,O,{opened:0})}}function ve(n){const e=n.split(`
`),s=e[0].trim();let t=e.slice(1);return t=t.map(l=>l.trim()).filter(l=>l.length!=0),!s||t.length==0?null:{question:s,options:t}}const ze=n=>{const{subscribe:e,set:s,update:t}=ae(n);return{subscribe:e,answer:o=>{t(u=>(u.selected=u.selected==o?void 0:o,u))}}};function ke(n){let e,s,t,l,o,u=X(n[3].selected)+"",r,i,a;return{c(){e=b("button"),s=b("p"),t=A(n[1]),l=b("br"),o=b("span"),r=A(u),this.h()},l(f){e=q(f,"BUTTON",{class:!0});var d=k(e);s=q(d,"P",{class:!0});var h=k(s);t=J(h,n[1]),l=q(h,"BR",{}),o=q(h,"SPAN",{class:!0});var _=k(o);r=J(_,u),_.forEach(m),h.forEach(m),d.forEach(m),this.h()},h(){$(o,"class","svelte-1y746i7"),$(s,"class","svelte-1y746i7"),$(e,"class","svelte-1y746i7"),S(e,"answered",n[3].selected!=null),S(e,"current",n[2])},m(f,d){v(f,e,d),z(e,s),z(s,t),z(s,l),z(s,o),z(o,r),i||(a=U(e,"click",n[4]),i=!0)},p(f,[d]){d&2&&L(t,f[1]),d&8&&u!==(u=X(f[3].selected)+"")&&L(r,u),d&8&&S(e,"answered",f[3].selected!=null),d&4&&S(e,"current",f[2])},i:T,o:T,d(f){f&&m(e),i=!1,a()}}}function X(n){return n==null?"":String.fromCharCode(n+65)}function we(n,e,s){let t,l=T,o=()=>(l(),l=y(u,f=>s(3,t=f)),u);n.$$.on_destroy.push(()=>l());let{question:u}=e;o();let{index:r}=e,{current:i}=e;function a(f){ce.call(this,n,f)}return n.$$set=f=>{"question"in f&&o(s(0,u=f.question)),"index"in f&&s(1,r=f.index),"current"in f&&s(2,i=f.current)},[u,r,i,t,a]}class Ee extends D{constructor(e){super(),Q(this,e,we,ke,O,{question:0,index:1,current:2})}}function Y(n,e,s){const t=n.slice();return t[4]=e[s],t[6]=s,t}function Z(n){let e,s;function t(){return n[3](n[6])}return e=new Ee({props:{question:n[4],index:n[6]+1,current:n[2]==n[6]}}),e.$on("click",t),{c(){V(e.$$.fragment)},l(l){C(e.$$.fragment,l)},m(l,o){P(e,l,o),s=!0},p(l,o){n=l;const u={};o&1&&(u.question=n[4]),o&4&&(u.current=n[2]==n[6]),e.$set(u)},i(l){s||(w(e.$$.fragment,l),s=!0)},o(l){E(e.$$.fragment,l),s=!1},d(l){j(e,l)}}}function Te(n){let e,s,t=R(n[0]),l=[];for(let u=0;u<t.length;u+=1)l[u]=Z(Y(n,t,u));const o=u=>E(l[u],1,1,()=>{l[u]=null});return{c(){e=b("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){e=q(u,"DIV",{class:!0});var r=k(e);for(let i=0;i<l.length;i+=1)l[i].l(r);r.forEach(m),this.h()},h(){$(e,"class","svelte-12p693g")},m(u,r){v(u,e,r);for(let i=0;i<l.length;i+=1)l[i]&&l[i].m(e,null);s=!0},p(u,[r]){if(r&7){t=R(u[0]);let i;for(i=0;i<t.length;i+=1){const a=Y(u,t,i);l[i]?(l[i].p(a,r),w(l[i],1)):(l[i]=Z(a),l[i].c(),w(l[i],1),l[i].m(e,null))}for(ue(),i=t.length;i<l.length;i+=1)o(i);oe()}},i(u){if(!s){for(let r=0;r<t.length;r+=1)w(l[r]);s=!0}},o(u){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)E(l[r]);s=!1},d(u){u&&m(e),re(l,u)}}}function Se(n,e,s){let t,l=T,o=()=>(l(),l=y(r,a=>s(2,t=a)),r);n.$$.on_destroy.push(()=>l());let{questions:u}=e,{index:r}=e;o();const i=a=>r.set(a);return n.$$set=a=>{"questions"in a&&s(0,u=a.questions),"index"in a&&o(s(1,r=a.index))},[u,r,t,i]}class Ie extends D{constructor(e){super(),Q(this,e,Se,Te,O,{questions:0,index:1})}}function x(n,e,s){const t=n.slice();return t[5]=e[s],t[7]=s,t}function ee(n){let e,s=n[5]+"",t,l,o,u;function r(){return n[4](n[7])}return{c(){e=b("button"),t=A(s),l=N(),this.h()},l(i){e=q(i,"BUTTON",{class:!0});var a=k(e);t=J(a,s),l=B(a),a.forEach(m),this.h()},h(){$(e,"class","svelte-1b1qep"),S(e,"selected",n[1].selected==n[7])},m(i,a){v(i,e,a),z(e,t),z(e,l),o||(u=U(e,"click",r),o=!0)},p(i,a){n=i,a&2&&s!==(s=n[5]+"")&&L(t,s),a&2&&S(e,"selected",n[1].selected==n[7])},d(i){i&&m(e),o=!1,u()}}}function Ne(n){let e,s,t,l,o=n[1].question+"",u,r,i,a;const f=n[3].default,d=ne(f,n,n[2],null);let h=R(n[1].options),_=[];for(let c=0;c<h.length;c+=1)_[c]=ee(x(n,h,c));return{c(){e=b("div"),s=b("div"),d&&d.c(),t=N(),l=b("h2"),u=A(o),r=N(),i=b("div");for(let c=0;c<_.length;c+=1)_[c].c();this.h()},l(c){e=q(c,"DIV",{class:!0});var g=k(e);s=q(g,"DIV",{class:!0});var p=k(s);d&&d.l(p),t=B(p),l=q(p,"H2",{class:!0});var I=k(l);u=J(I,o),I.forEach(m),p.forEach(m),r=B(g),i=q(g,"DIV",{class:!0});var W=k(i);for(let F=0;F<_.length;F+=1)_[F].l(W);W.forEach(m),g.forEach(m),this.h()},h(){$(l,"class","svelte-1b1qep"),$(s,"class","question svelte-1b1qep"),$(i,"class","options svelte-1b1qep"),$(e,"class","container svelte-1b1qep")},m(c,g){v(c,e,g),z(e,s),d&&d.m(s,null),z(s,t),z(s,l),z(l,u),z(e,r),z(e,i);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(i,null);a=!0},p(c,[g]){if(d&&d.p&&(!a||g&4)&&se(d,f,c,c[2],a?ie(f,c[2],g,null):le(c[2]),null),(!a||g&2)&&o!==(o=c[1].question+"")&&L(u,o),g&3){h=R(c[1].options);let p;for(p=0;p<h.length;p+=1){const I=x(c,h,p);_[p]?_[p].p(I,g):(_[p]=ee(I),_[p].c(),_[p].m(i,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=h.length}},i(c){a||(w(d,c),a=!0)},o(c){E(d,c),a=!1},d(c){c&&m(e),d&&d.d(c),re(_,c)}}}function Be(n,e,s){let t,l=T,o=()=>(l(),l=y(i,f=>s(1,t=f)),i);n.$$.on_destroy.push(()=>l());let{$$slots:u={},$$scope:r}=e,{data:i}=e;o();const a=f=>i.answer(f);return n.$$set=f=>{"data"in f&&o(s(0,i=f.data)),"$$scope"in f&&s(2,r=f.$$scope)},[i,t,r,u,a]}class Oe extends D{constructor(e){super(),Q(this,e,Be,Ne,O,{data:0})}}function De(n){let e,s="<",t,l,o,u,r,i,a=">",f,d,h;return{c(){e=b("button"),t=A(s),l=N(),o=b("input"),r=N(),i=b("button"),f=A(a),this.h()},l(_){e=q(_,"BUTTON",{class:!0});var c=k(e);t=J(c,s),c.forEach(m),l=B(_),o=q(_,"INPUT",{type:!0,min:!0,max:!0,class:!0}),r=B(_),i=q(_,"BUTTON",{class:!0});var g=k(i);f=J(g,a),g.forEach(m),this.h()},h(){$(e,"class","svelte-19gylfi"),$(o,"type","number"),$(o,"min",fe+1),$(o,"max",n[3]+1),o.value=u=n[2]+1,$(o,"class","svelte-19gylfi"),$(i,"class","svelte-19gylfi")},m(_,c){v(_,e,c),z(e,t),v(_,l,c),v(_,o,c),v(_,r,c),v(_,i,c),z(i,f),d||(h=[U(e,"click",n[4]),U(o,"input",n[6]),U(i,"click",n[5])],d=!0)},p(_,c){c&4&&u!==(u=_[2]+1)&&o.value!==u&&(o.value=u)},d(_){_&&(m(e),m(l),m(o),m(r),m(i)),d=!1,de(h)}}}function Qe(n){let e,s;return e=new Oe({props:{data:n[0][n[2]],$$slots:{default:[De]},$$scope:{ctx:n}}}),{c(){V(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,l){P(e,t,l),s=!0},p(t,[l]){const o={};l&5&&(o.data=t[0][t[2]]),l&516&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}const fe=0;function Ue(n,e,s){let t,l=T,o=()=>(l(),l=y(r,c=>s(2,t=c)),r);n.$$.on_destroy.push(()=>l());let{questions:u}=e;const r=ae(0);o();const i=u.length-1,a=c=>_(c,fe,i),f=()=>r.update(c=>a(c-1)),d=()=>r.update(c=>a(c+1)),h=c=>r.set(a(+c.target.value-1)),_=(c,g,p)=>c>p?p:c<g?g:c;return n.$$set=c=>{"questions"in c&&s(0,u=c.questions)},[u,r,t,i,f,d,h]}class Ve extends D{constructor(e){super(),Q(this,e,Ue,Qe,O,{questions:0,index:1})}get index(){return this.$$.ctx[1]}}function Ce(n){let e,s="Reset local data",t,l;return{c(){e=b("button"),e.textContent=s},l(o){e=q(o,"BUTTON",{"data-svelte-h":!0}),he(e)!=="svelte-19svf64"&&(e.textContent=s)},m(o,u){v(o,e,u),t||(l=U(e,"click",n[2]),t=!0)},p:T,i:T,o:T,d(o){o&&m(e),t=!1,l()}}}function Pe(n,e,s){let{questions:t}=e;const l=o;_e(o);function o(){for(const[r,i]of Object.entries(localStorage))t.push(ze(JSON.parse(i)));for(const r of t)r.subscribe(i=>{localStorage.setItem(i.question,JSON.stringify(i))})}const u=()=>{s(0,t=[]),localStorage.clear()};return n.$$set=r=>{"questions"in r&&s(0,t=r.questions)},[t,l,u]}class je extends D{constructor(e){super(),Q(this,e,Pe,Ce,O,{questions:0,reload:1})}get reload(){return this.$$.ctx[1]}}function Ae(n){let e,s,t,l,o,u,r,i;function a(h){n[5](h)}function f(h){n[6](h)}let d={};return n[0]!==void 0&&(d.questions=n[0]),n[2]!==void 0&&(d.reload=n[2]),e=new je({props:d}),M.push(()=>K(e,"questions",a)),M.push(()=>K(e,"reload",f)),{c(){V(e.$$.fragment),l=N(),o=b("input"),this.h()},l(h){C(e.$$.fragment,h),l=B(h),o=q(h,"INPUT",{type:!0}),this.h()},h(){$(o,"type","file"),o.multiple=!0},m(h,_){P(e,h,_),v(h,l,_),v(h,o,_),u=!0,r||(i=U(o,"input",n[4]),r=!0)},p(h,_){const c={};!s&&_&1&&(s=!0,c.questions=h[0],G(()=>s=!1)),!t&&_&4&&(t=!0,c.reload=h[2],G(()=>t=!1)),e.$set(c)},i(h){u||(w(e.$$.fragment,h),u=!0)},o(h){E(e.$$.fragment,h),u=!1},d(h){h&&(m(l),m(o)),j(e,h),r=!1,i()}}}function te(n){let e,s,t,l,o;e=new Ie({props:{questions:n[0],index:n[3]}});function u(i){n[7](i)}let r={questions:n[0]};return n[3]!==void 0&&(r.index=n[3]),t=new Ve({props:r}),M.push(()=>K(t,"index",u)),{c(){V(e.$$.fragment),s=N(),V(t.$$.fragment)},l(i){C(e.$$.fragment,i),s=B(i),C(t.$$.fragment,i)},m(i,a){P(e,i,a),v(i,s,a),P(t,i,a),o=!0},p(i,a){const f={};a&1&&(f.questions=i[0]),a&8&&(f.index=i[3]),e.$set(f);const d={};a&1&&(d.questions=i[0]),!l&&a&8&&(l=!0,d.index=i[3],G(()=>l=!1)),t.$set(d)},i(i){o||(w(e.$$.fragment,i),w(t.$$.fragment,i),o=!0)},o(i){E(e.$$.fragment,i),E(t.$$.fragment,i),o=!1},d(i){i&&m(s),j(e,i),j(t,i)}}}function Je(n){let e,s,t,l,o;e=new qe({props:{opened:n[1],$$slots:{default:[Ae]},$$scope:{ctx:n}}});let u=n[0].length!=0&&te(n);return{c(){s=b("div"),V(e.$$.fragment),t=N(),l=b("div"),u&&u.c(),this.h()},l(r){s=q(r,"DIV",{style:!0});var i=k(s);C(e.$$.fragment,i),t=B(r),l=q(r,"DIV",{class:!0});var a=k(l);u&&u.l(a),a.forEach(m),this.h()},h(){H(s,"display","contents"),H(s,"--width","300px"),H(s,"--bg","var(--color-d)"),$(l,"class","svelte-1ewepbo")},m(r,i){v(r,s,i),P(e,s,null),v(r,t,i),v(r,l,i),u&&u.m(l,null),o=!0},p(r,[i]){const a={};i&2&&(a.opened=r[1]),i&261&&(a.$$scope={dirty:i,ctx:r}),e.$set(a),r[0].length!=0?u?(u.p(r,i),i&1&&w(u,1)):(u=te(r),u.c(),w(u,1),u.m(l,null)):u&&(ue(),E(u,1,1,()=>{u=null}),oe())},i(r){o||(w(e.$$.fragment,r),w(u),o=!0)},o(r){E(e.$$.fragment,r),E(u),o=!1},d(r){r&&(m(t),m(l)),r&&e&&m(s),j(e,r),u&&u.d()}}}function Le(n,e,s){let t=[];async function l(d){var _;const h=(_=d.target)==null?void 0:_.files;if(h){for(const c of h){const g=await c.text();for(const p of g.split(/(\r?\n){2}/)){const I=ve(p);I&&localStorage.setItem(I.question,JSON.stringify(I))}}u(),s(0,t),s(1,o=!1)}}let o=!0,u,r;function i(d){t=d,s(0,t)}function a(d){u=d,s(2,u)}function f(d){r=d,s(3,r)}return[t,o,u,r,l,i,a,f]}class Re extends D{constructor(e){super(),Q(this,e,Le,Je,O,{})}}function ye(n){let e,s;return e=new Re({}),{c(){V(e.$$.fragment)},l(t){C(e.$$.fragment,t)},m(t,l){P(e,t,l),s=!0},p:T,i(t){s||(w(e.$$.fragment,t),s=!0)},o(t){E(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}class Ge extends D{constructor(e){super(),Q(this,e,null,ye,O,{})}}export{Ge as component};
